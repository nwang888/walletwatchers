"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/bigdb";
exports.ids = ["pages/api/bigdb"];
exports.modules = {

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "sqlite":
/*!*************************!*\
  !*** external "sqlite" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("sqlite");;

/***/ }),

/***/ "(api)/./src/pages/api/bigdb.js":
/*!********************************!*\
  !*** ./src/pages/api/bigdb.js ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ instantiateBigDB)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function instantiateBigDB(req, res) {\n    // retrieve data\n    try {\n        console.log(\"opening db\");\n        const db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n            filename: \"./sql/big.db\",\n            driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n        });\n        console.log(\"opened db\");\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Accounts (\n                account_id VARCHAR(256) NOT NULL,\n                routing_number INTEGER NOT NULL,\n                account_name VARCHAR(256),\n                account_subtype VARCHAR(256),\n                account_balance DECIMAL(10,2) NOT NULL,\n                account_limit DECIMAL(10,2),\n                PRIMARY KEY (account_id)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Transactions (\n                transaction_id VARCHAR(256) NOT NULL,\n                account_id VARCHAR(256) NOT NULL,\n                account_name VARCHAR(256) NOT NULL,\n                category_primary VARCHAR(256),\n                category_detailed VARCHAR(256),\n                merchant_name VARCHAR(256),\n                store_number INTEGER,\n                logo_url VARCHAR(256),\n                transaction_amount DECIMAL(10,2) NOT NULL,\n                address VARCHAR(256),\n                city VARCHAR(256),\n                region VARCHAR(256),\n                postal_code VARCHAR(256),\n                country VARCHAR(256),\n                datetime DATETIME,\n                payment_channel VARCHAR(16),\n                cursor VARCHAR(256),\n                next_cursor VARCHAR(256),\n                FOREIGN KEY (account_id) REFERENCES Accounts(account_id),\n                FOREIGN KEY (account_name) REFERENCES Accounts(account_name)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS RecurringTransactions (\n                transaction_id VARCHAR(256) NOT NULL,\n                category_primary VARCHAR(256),\n                category_detailed VARCHAR(256),\n                merchant_name VARCHAR(256),\n                transaction_amount DECIMAL(10,2) NOT NULL,\n                PRIMARY KEY (transaction_id)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS CategoryDescription (\n                category_primary VARCHAR(256) NOT NULL,\n                category_detailed VARCHAR(256) NOT NULL,\n                category_description VARCHAR(256) NOT NULL,\n                PRIMARY KEY (category_detailed)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Wishlists (\n                wishlist_id INTEGER NOT NULL,\n                item_name VARCHAR(256) NOT NULL,\n                item_price DECIMAL(10,2) NOT NULL,\n                liked INTEGER NOT NULL,\n                PRIMARY KEY (wishlist_id)\n            );\n\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Budgets (\n                budget_id INTEGER NOT NULL,\n                budget_name VARCHAR(256) NOT NULL,\n                start_date DATETIME NOT NULL,\n                end_date DATETIME NOT NULL,\n                budget_amount INTEGER NOT NULL,\n                PRIMARY KEY (budget_id)\n            );\n        `);\n        await db.close();\n        return res.status(200).json({\n            message: \"Databases created\"\n        });\n    } catch (err) {\n        return res.status(500).json({\n            error: err.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2JpZ2RiLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFDVTtBQUV6QixlQUFlRyxnQkFBZ0IsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDeEQsZ0JBQWdCO0lBQ2hCLElBQUk7UUFDSEMsT0FBTyxDQUFDQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUIsTUFBTUMsRUFBRSxHQUFHLE1BQU1QLDRDQUFJLENBQUM7WUFDckJRLFFBQVEsRUFBRSxjQUFjO1lBQ3hCQyxNQUFNLEVBQUVWLHlEQUFnQjtTQUN4QixDQUFDO1FBRUZNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXpCLE1BQU1DLEVBQUUsQ0FBQ0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7Ozs7UUFVUixDQUFDLENBQUMsQ0FBQztRQUVULE1BQU1ILEVBQUUsQ0FBQ0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBdUJSLENBQUMsQ0FBQyxDQUFDO1FBRVQsTUFBTUgsRUFBRSxDQUFDRyxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7O1FBU1IsQ0FBQyxDQUFDLENBQUM7UUFFVCxNQUFNSCxFQUFFLENBQUNHLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7O1FBT1IsQ0FBQyxDQUFDLENBQUM7UUFFVCxNQUFNSCxFQUFFLENBQUNHLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7UUFTUixDQUFDLENBQUMsQ0FBQztRQUlULE1BQU1ILEVBQUUsQ0FBQ0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7OztRQVNSLENBQUMsQ0FBQyxDQUFDO1FBRVQsTUFBTUgsRUFBRSxDQUFDSSxLQUFLLEVBQUUsQ0FBQztRQUVqQixPQUFPUCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLE9BQU8sRUFBRSxtQkFBbUI7U0FBRSxDQUFDLENBQUM7SUFDL0QsRUFBRSxPQUFPQyxHQUFHLEVBQUU7UUFDYixPQUFPWCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVHLEtBQUssRUFBRUQsR0FBRyxDQUFDRCxPQUFPO1NBQUUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7QUFDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2FwaS9iaWdkYi5qcz9kZmM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzcWxpdGUzIGZyb20gXCJzcWxpdGUzXCI7XG5pbXBvcnQgeyBvcGVuLCBEYXRhYmFzZSB9IGZyb20gXCJzcWxpdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaW5zdGFudGlhdGVCaWdEQihyZXEsIHJlcykge1xuXHQvLyByZXRyaWV2ZSBkYXRhXG5cdHRyeSB7XG5cdFx0Y29uc29sZS5sb2coXCJvcGVuaW5nIGRiXCIpO1xuXHRcdGNvbnN0IGRiID0gYXdhaXQgb3Blbih7XG5cdFx0XHRmaWxlbmFtZTogXCIuL3NxbC9iaWcuZGJcIixcblx0XHRcdGRyaXZlcjogc3FsaXRlMy5EYXRhYmFzZVxuXHRcdH0pO1xuXG5cdFx0Y29uc29sZS5sb2coXCJvcGVuZWQgZGJcIik7XG5cblx0XHRhd2FpdCBkYi5ydW4oYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgQWNjb3VudHMgKFxuICAgICAgICAgICAgICAgIGFjY291bnRfaWQgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIHJvdXRpbmdfbnVtYmVyIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgYWNjb3VudF9uYW1lIFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBhY2NvdW50X3N1YnR5cGUgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIGFjY291bnRfYmFsYW5jZSBERUNJTUFMKDEwLDIpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGFjY291bnRfbGltaXQgREVDSU1BTCgxMCwyKSxcbiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoYWNjb3VudF9pZClcbiAgICAgICAgICAgICk7XG4gICAgICAgIGApO1xuXG5cdFx0YXdhaXQgZGIucnVuKGBcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFRyYW5zYWN0aW9ucyAoXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25faWQgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGFjY291bnRfaWQgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGFjY291bnRfbmFtZSBWQVJDSEFSKDI1NikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfcHJpbWFyeSBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfZGV0YWlsZWQgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIG1lcmNoYW50X25hbWUgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIHN0b3JlX251bWJlciBJTlRFR0VSLFxuICAgICAgICAgICAgICAgIGxvZ29fdXJsIFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl9hbW91bnQgREVDSU1BTCgxMCwyKSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBhZGRyZXNzIFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBjaXR5IFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICByZWdpb24gVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIHBvc3RhbF9jb2RlIFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBjb3VudHJ5IFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBkYXRldGltZSBEQVRFVElNRSxcbiAgICAgICAgICAgICAgICBwYXltZW50X2NoYW5uZWwgVkFSQ0hBUigxNiksXG4gICAgICAgICAgICAgICAgY3Vyc29yIFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBuZXh0X2N1cnNvciBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgRk9SRUlHTiBLRVkgKGFjY291bnRfaWQpIFJFRkVSRU5DRVMgQWNjb3VudHMoYWNjb3VudF9pZCksXG4gICAgICAgICAgICAgICAgRk9SRUlHTiBLRVkgKGFjY291bnRfbmFtZSkgUkVGRVJFTkNFUyBBY2NvdW50cyhhY2NvdW50X25hbWUpXG4gICAgICAgICAgICApO1xuICAgICAgICBgKTtcblxuXHRcdGF3YWl0IGRiLnJ1bihgXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSZWN1cnJpbmdUcmFuc2FjdGlvbnMgKFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9wcmltYXJ5IFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9kZXRhaWxlZCBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgbWVyY2hhbnRfbmFtZSBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fYW1vdW50IERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKHRyYW5zYWN0aW9uX2lkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgYCk7XG5cblx0XHRhd2FpdCBkYi5ydW4oYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgQ2F0ZWdvcnlEZXNjcmlwdGlvbiAoXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfcHJpbWFyeSBWQVJDSEFSKDI1NikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfZGV0YWlsZWQgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X2Rlc2NyaXB0aW9uIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoY2F0ZWdvcnlfZGV0YWlsZWQpXG4gICAgICAgICAgICApO1xuICAgICAgICBgKTtcblxuXHRcdGF3YWl0IGRiLnJ1bihgXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBXaXNobGlzdHMgKFxuICAgICAgICAgICAgICAgIHdpc2hsaXN0X2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgaXRlbV9uYW1lIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBpdGVtX3ByaWNlIERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgbGlrZWQgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAod2lzaGxpc3RfaWQpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGApO1xuXG4gICAgICAgIFxuXG5cdFx0YXdhaXQgZGIucnVuKGBcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIEJ1ZGdldHMgKFxuICAgICAgICAgICAgICAgIGJ1ZGdldF9pZCBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGJ1ZGdldF9uYW1lIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlIERBVEVUSU1FIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGVuZF9kYXRlIERBVEVUSU1FIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGJ1ZGdldF9hbW91bnQgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoYnVkZ2V0X2lkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgYCk7XG5cblx0XHRhd2FpdCBkYi5jbG9zZSgpO1xuXG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJEYXRhYmFzZXMgY3JlYXRlZFwiIH0pO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJzcWxpdGUzIiwib3BlbiIsIkRhdGFiYXNlIiwiaW5zdGFudGlhdGVCaWdEQiIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJkYiIsImZpbGVuYW1lIiwiZHJpdmVyIiwicnVuIiwiY2xvc2UiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVyciIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/bigdb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/bigdb.js"));
module.exports = __webpack_exports__;

})();