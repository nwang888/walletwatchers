"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/bigdb";
exports.ids = ["pages/api/bigdb"];
exports.modules = {

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "sqlite":
/*!*************************!*\
  !*** external "sqlite" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("sqlite");;

/***/ }),

/***/ "(api)/./src/pages/api/bigdb.js":
/*!********************************!*\
  !*** ./src/pages/api/bigdb.js ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ instantiateBigDB)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function instantiateBigDB(req, res) {\n    // retrieve data\n    try {\n        console.log(\"opening db\");\n        const db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n            filename: \"./sql/big.db\",\n            driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n        });\n        console.log(\"opened db\");\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Accounts (\n                account_id VARCHAR(256) NOT NULL,\n                routing_number INTEGER NOT NULL,\n                account_name VARCHAR(256),\n                account_subtype VARCHAR(256),\n                account_balance DECIMAL(10,2) NOT NULL,\n                account_limit DECIMAL(10,2),\n                PRIMARY KEY (account_id)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Transactions (\n                transaction_id VARCHAR(256) NOT NULL,\n                account_id VARCHAR(256) NOT NULL,\n                account_name VARCHAR(256) NOT NULL,\n                category_primary VARCHAR(256),\n                category_detailed VARCHAR(256),\n                merchant_name VARCHAR(256),\n                store_number INTEGER,\n                logo_url VARCHAR(256),\n                transaction_amount DECIMAL(10,2) NOT NULL,\n                address VARCHAR(256),\n                city VARCHAR(256),\n                region VARCHAR(256),\n                postal_code VARCHAR(256),\n                country VARCHAR(256),\n                datetime DATETIME,\n                payment_channel VARCHAR(16),\n                cursor VARCHAR(256),\n                next_cursor VARCHAR(256),\n                FOREIGN KEY (account_id) REFERENCES Accounts(account_id),\n                FOREIGN KEY (account_name) REFERENCES Accounts(account_name)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS RecurringTransactions (\n                transaction_id VARCHAR(256) NOT NULL,\n                category_primary VARCHAR(256),\n                category_detailed VARCHAR(256),\n                merchant_name VARCHAR(256),\n                transaction_amount DECIMAL(10,2) NOT NULL,\n                PRIMARY KEY (transaction_id)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS CategoryDescription (\n                category_primary VARCHAR(256) NOT NULL,\n                category_detailed VARCHAR(256) NOT NULL,\n                category_description VARCHAR(256) NOT NULL,\n                PRIMARY KEY (category_detailed)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Wishlists (\n                wishlist_id INTEGER NOT NULL,\n                item_name VARCHAR(256) NOT NULL,\n                item_price DECIMAL(10,2) NOT NULL,\n                PRIMARY KEY (wishlist_id)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS Budgets (\n                budget_id INTEGER NOT NULL,\n                budget_name VARCHAR(256) NOT NULL,\n                start_date DATETIME NOT NULL,\n                end_date DATETIME NOT NULL,\n                budget_amount INTEGER NOT NULL,\n                PRIMARY KEY (budget_id)\n            );\n        `);\n        await db.run(`\n            CREATE TABLE IF NOT EXISTS BudgetCategories (\n                category_id INTEGER NOT NULL,\n                category_name VARCHAR(256) NOT NULL,\n                category_budget_percentage DECIMAL(10,2) NOT NULL,\n                PRIMARY KEY (category_id)\n            );\n            \n        `);\n        await db.close();\n        return res.status(200).json({\n            message: \"Databases created\"\n        });\n    } catch (err) {\n        return res.status(500).json({\n            error: err.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2JpZ2RiLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFDVTtBQUV6QixlQUFlRyxnQkFBZ0IsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDeEQsZ0JBQWdCO0lBQ2hCLElBQUk7UUFDSEMsT0FBTyxDQUFDQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUIsTUFBTUMsRUFBRSxHQUFHLE1BQU1QLDRDQUFJLENBQUM7WUFDckJRLFFBQVEsRUFBRSxjQUFjO1lBQ3hCQyxNQUFNLEVBQUVWLHlEQUFnQjtTQUN4QixDQUFDO1FBRUZNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXpCLE1BQU1DLEVBQUUsQ0FBQ0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7Ozs7UUFVUixDQUFDLENBQUMsQ0FBQztRQUVULE1BQU1ILEVBQUUsQ0FBQ0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBdUJSLENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTUgsRUFBRSxDQUFDRyxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7O1FBU2QsQ0FBQyxDQUFDLENBQUM7UUFFVCxNQUFNSCxFQUFFLENBQUNHLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7O1FBT1IsQ0FBQyxDQUFDLENBQUM7UUFFVCxNQUFNSCxFQUFFLENBQUNHLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7O1FBT1IsQ0FBQyxDQUFDLENBQUM7UUFFVCxNQUFNSCxFQUFFLENBQUNHLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7UUFTUixDQUFDLENBQUMsQ0FBQztRQUVULE1BQU1ILEVBQUUsQ0FBQ0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7O1FBUVIsQ0FBQyxDQUFDLENBQUM7UUFFVCxNQUFNSCxFQUFFLENBQUNJLEtBQUssRUFBRSxDQUFDO1FBRWpCLE9BQU9QLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRUMsT0FBTyxFQUFFLG1CQUFtQjtTQUFFLENBQUMsQ0FBQztJQUMvRCxFQUFFLE9BQU9DLEdBQUcsRUFBRTtRQUNiLE9BQU9YLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRUcsS0FBSyxFQUFFRCxHQUFHLENBQUNELE9BQU87U0FBRSxDQUFDLENBQUM7SUFDckQsQ0FBQztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvYXBpL2JpZ2RiLmpzP2RmYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSBcInNxbGl0ZTNcIjtcbmltcG9ydCB7IG9wZW4sIERhdGFiYXNlIH0gZnJvbSBcInNxbGl0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBpbnN0YW50aWF0ZUJpZ0RCKHJlcSwgcmVzKSB7XG5cdC8vIHJldHJpZXZlIGRhdGFcblx0dHJ5IHtcblx0XHRjb25zb2xlLmxvZyhcIm9wZW5pbmcgZGJcIik7XG5cdFx0Y29uc3QgZGIgPSBhd2FpdCBvcGVuKHtcblx0XHRcdGZpbGVuYW1lOiBcIi4vc3FsL2JpZy5kYlwiLFxuXHRcdFx0ZHJpdmVyOiBzcWxpdGUzLkRhdGFiYXNlXG5cdFx0fSk7XG5cblx0XHRjb25zb2xlLmxvZyhcIm9wZW5lZCBkYlwiKTtcblxuXHRcdGF3YWl0IGRiLnJ1bihgXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBBY2NvdW50cyAoXG4gICAgICAgICAgICAgICAgYWNjb3VudF9pZCBWQVJDSEFSKDI1NikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgcm91dGluZ19udW1iZXIgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBhY2NvdW50X25hbWUgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIGFjY291bnRfc3VidHlwZSBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgYWNjb3VudF9iYWxhbmNlIERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgYWNjb3VudF9saW1pdCBERUNJTUFMKDEwLDIpLFxuICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChhY2NvdW50X2lkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgYCk7XG5cblx0XHRhd2FpdCBkYi5ydW4oYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgVHJhbnNhY3Rpb25zIChcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl9pZCBWQVJDSEFSKDI1NikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgYWNjb3VudF9pZCBWQVJDSEFSKDI1NikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgYWNjb3VudF9uYW1lIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9wcmltYXJ5IFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9kZXRhaWxlZCBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgbWVyY2hhbnRfbmFtZSBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgc3RvcmVfbnVtYmVyIElOVEVHRVIsXG4gICAgICAgICAgICAgICAgbG9nb191cmwgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2Ftb3VudCBERUNJTUFMKDEwLDIpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGFkZHJlc3MgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIGNpdHkgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIHJlZ2lvbiBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgcG9zdGFsX2NvZGUgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIGNvdW50cnkgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIGRhdGV0aW1lIERBVEVUSU1FLFxuICAgICAgICAgICAgICAgIHBheW1lbnRfY2hhbm5lbCBWQVJDSEFSKDE2KSxcbiAgICAgICAgICAgICAgICBjdXJzb3IgVkFSQ0hBUigyNTYpLFxuICAgICAgICAgICAgICAgIG5leHRfY3Vyc29yIFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBGT1JFSUdOIEtFWSAoYWNjb3VudF9pZCkgUkVGRVJFTkNFUyBBY2NvdW50cyhhY2NvdW50X2lkKSxcbiAgICAgICAgICAgICAgICBGT1JFSUdOIEtFWSAoYWNjb3VudF9uYW1lKSBSRUZFUkVOQ0VTIEFjY291bnRzKGFjY291bnRfbmFtZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIGApO1xuXG4gICAgICAgIGF3YWl0IGRiLnJ1bihgXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSZWN1cnJpbmdUcmFuc2FjdGlvbnMgKFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9wcmltYXJ5IFZBUkNIQVIoMjU2KSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9kZXRhaWxlZCBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgbWVyY2hhbnRfbmFtZSBWQVJDSEFSKDI1NiksXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25fYW1vdW50IERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKHRyYW5zYWN0aW9uX2lkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgYCk7XG5cblx0XHRhd2FpdCBkYi5ydW4oYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgQ2F0ZWdvcnlEZXNjcmlwdGlvbiAoXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfcHJpbWFyeSBWQVJDSEFSKDI1NikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfZGV0YWlsZWQgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X2Rlc2NyaXB0aW9uIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoY2F0ZWdvcnlfZGV0YWlsZWQpXG4gICAgICAgICAgICApO1xuICAgICAgICBgKTtcblxuXHRcdGF3YWl0IGRiLnJ1bihgXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBXaXNobGlzdHMgKFxuICAgICAgICAgICAgICAgIHdpc2hsaXN0X2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgaXRlbV9uYW1lIFZBUkNIQVIoMjU2KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBpdGVtX3ByaWNlIERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKHdpc2hsaXN0X2lkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgYCk7XG5cblx0XHRhd2FpdCBkYi5ydW4oYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgQnVkZ2V0cyAoXG4gICAgICAgICAgICAgICAgYnVkZ2V0X2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgYnVkZ2V0X25hbWUgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGUgREFURVRJTUUgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgZW5kX2RhdGUgREFURVRJTUUgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgYnVkZ2V0X2Ftb3VudCBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChidWRnZXRfaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICBgKTtcblxuXHRcdGF3YWl0IGRiLnJ1bihgXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBCdWRnZXRDYXRlZ29yaWVzIChcbiAgICAgICAgICAgICAgICBjYXRlZ29yeV9pZCBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X25hbWUgVkFSQ0hBUigyNTYpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X2J1ZGdldF9wZXJjZW50YWdlIERFQ0lNQUwoMTAsMikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGNhdGVnb3J5X2lkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICBgKTtcblxuXHRcdGF3YWl0IGRiLmNsb3NlKCk7XG5cblx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIkRhdGFiYXNlcyBjcmVhdGVkXCIgfSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcblx0fVxufVxuIl0sIm5hbWVzIjpbInNxbGl0ZTMiLCJvcGVuIiwiRGF0YWJhc2UiLCJpbnN0YW50aWF0ZUJpZ0RCIiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsImRiIiwiZmlsZW5hbWUiLCJkcml2ZXIiLCJydW4iLCJjbG9zZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/bigdb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/bigdb.js"));
module.exports = __webpack_exports__;

})();