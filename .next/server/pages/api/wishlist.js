"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/wishlist";
exports.ids = ["pages/api/wishlist"];
exports.modules = {

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "sqlite":
/*!*************************!*\
  !*** external "sqlite" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("sqlite");;

/***/ }),

/***/ "(api)/./src/pages/api/wishlist.js":
/*!***********************************!*\
  !*** ./src/pages/api/wishlist.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function getWishlistData({ sort_by =\"wishlist_id\" , order =\"ASC\" , page =1 , rowsPerPage =10 , paginate =true  }) {\n    const db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n        filename: \"./sql/big.db\",\n        driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n    });\n    const totalRows = await db.get(`SELECT COUNT(*) as count\n\t\tFROM Wishlists`);\n    console.log(\"page \", page);\n    let wishlists1;\n    if (paginate) {\n        console.log(\"page in paginate: \", page);\n        console.log(\"rowsPerPage: \", rowsPerPage);\n        const offset = (page - 1) * rowsPerPage;\n        console.log(\"offset: \", offset);\n        wishlists1 = await db.all(`SELECT * FROM Wishlists \n                                    ORDER BY liked DESC, wishlist_id ${order}\n                                    LIMIT ? OFFSET ?`, [\n            rowsPerPage,\n            offset\n        ]);\n    } else {\n        wishlists1 = await db.all(`SELECT * FROM Wishlists \n                                         ORDER BY ${sort_by} ${order}\n                                        `);\n    }\n    await db.close();\n    // console.log(wishlists);\n    console.log(totalRows);\n    return {\n        wishlists: wishlists1,\n        totalRows: totalRows.count\n    };\n}\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        try {\n            const { sort_by , order , page , rowsPerPage , paginate  } = req.query;\n            console.log(\"page before passing: \", page);\n            const db = await getWishlistData({\n                sort_by,\n                order,\n                page,\n                rowsPerPage,\n                paginate\n            });\n            return res.status(200).json(db);\n        } catch (err) {\n            return res.status(500).json({\n                error: \"Error fetching wishlists data\"\n            });\n        }\n    } else if (req.method === \"POST\") {\n        console.log(\"posting!\");\n        console.log(req.body);\n        try {\n            const db1 = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n                filename: \"./sql/big.db\",\n                driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n            });\n            const requestData = req.body; // Access data sent in the request body\n            // res.json({ message: \"Data received successfully\", data: requestData });\n            console.log(requestData);\n            const wishlist_id = Math.floor(Math.random);\n            const liked = 0;\n            console.log(requestData.wishlist_id);\n            await db1.run(`\n                INSERT INTO Wishlists (wishlist_id, item_name, item_price, liked)\n                VALUES (?, ?, ?, ?)\n                `, [\n                wishlist_id,\n                requestData.name,\n                requestData.price,\n                liked\n            ]);\n            console.log(\"added\");\n            await db1.close();\n            res.json({\n                message: \"Table: \",\n                data: requestData\n            });\n            return res.status(200).json(payload);\n        } catch (err1) {\n            return res.status(500).json({\n                error: err1.message\n            });\n        }\n    } else if (req.method === \"DELETE\") {\n        console.log(\"deleted\");\n        const { id  } = req.query;\n        try {\n            const db2 = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n                filename: \"./sql/big.db\",\n                driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n            });\n            await db2.run(`\n                DELETE FROM wishlists\n                WHERE wishlist_id = ?\n            `, [\n                id\n            ]);\n            await db2.close();\n            res.status(200).json({\n                message: `Item with id ${id} deleted.`\n            });\n        } catch (err2) {\n            res.status(500).json({\n                error: err2.message\n            });\n        }\n    }\n    if (req.method === \"PUT\") {\n        console.log(\"liked\");\n        const { id: id1  } = req.query;\n        try {\n            const db3 = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n                filename: \"./sql/big.db\",\n                driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n            });\n            const likedStatus = await db3.get(`SELECT liked as likedStatus\n            FROM Wishlists\n            WHERE wishlist_id = ?`, [\n                id1\n            ]);\n            if (likedStatus.likedStatus == 0) {\n                await db3.run(\"UPDATE wishlists SET liked = 1 WHERE wishlist_id = ?\", [\n                    id1\n                ]);\n            } else if (likedStatus.likedStatus == 1) {\n                await db3.run(\"UPDATE wishlists SET liked = 0 WHERE wishlist_id = ?\", [\n                    id1\n                ]);\n            }\n            await db3.close();\n            return res.status(200).json(wishlists);\n        } catch (err3) {\n            res.status(500).json({\n                error: err3.message\n            });\n        }\n    }\n    if (req.method === \"HEAD\") {\n        try {\n            const db4 = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n                filename: \"./sql/big.db\",\n                driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n            });\n            const page1 = req.query.page ? parseInt(req.query.page) : 1;\n            const recordsPerPage = 10;\n            const offset = (page1 - 1) * recordsPerPage;\n            const wishlists1 = await db4.all(`SELECT * FROM wishlists ORDER BY liked DESC LIMIT ? OFFSET ?`, [\n                recordsPerPage,\n                offset\n            ]);\n            console.log(wishlists1);\n            await db4.close();\n            return res.status(200).json(wishlists1);\n        } catch (err4) {\n            return res.status(500).json({\n                error: err4.message\n            });\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixHQUFHLENBQUNHLEtBQUssQ0FBQ25CLElBQUksQ0FBQyxHQUFHLENBQUM7WUFDMUQsTUFBTXdDLGNBQWMsR0FBRyxFQUFFO1lBQ3pCLE1BQU03QixNQUFNLEdBQUcsQ0FBQ1gsS0FBSSxHQUFHLENBQUMsSUFBSXdDLGNBQWM7WUFFMUMsTUFBTTlCLFVBQVMsR0FBRyxNQUFNUCxHQUFFLENBQUNTLEdBQUcsQ0FBQyxDQUFDLDREQUE0RCxDQUFDLEVBQUU7Z0JBQUM0QixjQUFjO2dCQUFFN0IsTUFBTTthQUFDLENBQUM7WUFDaklILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFTLENBQUMsQ0FBQztZQUNkLE1BQU1QLEdBQUUsQ0FBQ1UsS0FBSyxFQUFFLENBQUM7WUFFakIsT0FBT0ksR0FBRyxDQUFDRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ1gsVUFBUyxDQUFDLENBQUM7UUFDM0MsRUFBRSxPQUFPWSxJQUFHLEVBQUU7WUFDVixPQUFPTCxHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFRSxLQUFLLEVBQUVELElBQUcsQ0FBQ1ksT0FBTzthQUFFLENBQUMsQ0FBQztRQUN4RCxDQUFDO0lBQ1IsQ0FBQztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvYXBpL3dpc2hsaXN0LmpzP2QzY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSBcInNxbGl0ZTNcIjtcbmltcG9ydCB7IG9wZW4sIERhdGFiYXNlIH0gZnJvbSBcInNxbGl0ZVwiO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRXaXNobGlzdERhdGEoe1xuICAgIHNvcnRfYnkgPSBcIndpc2hsaXN0X2lkXCIsXG4gICAgb3JkZXIgPSBcIkFTQ1wiLFxuICAgIHBhZ2UgPSAxLFxuICAgIHJvd3NQZXJQYWdlID0gMTAsXG4gICAgcGFnaW5hdGUgPSB0cnVlXG59KSB7IFxuICAgIGNvbnN0IGRiID0gYXdhaXQgb3Blbih7XG4gICAgICAgIGZpbGVuYW1lOiBcIi4vc3FsL2JpZy5kYlwiLFxuICAgICAgICBkcml2ZXI6IHNxbGl0ZTMuRGF0YWJhc2VcbiAgICB9KTtcblxuICAgIFxuICAgIGNvbnN0IHRvdGFsUm93cyA9IGF3YWl0IGRiLmdldChcblx0XHRgU0VMRUNUIENPVU5UKCopIGFzIGNvdW50XG5cdFx0RlJPTSBXaXNobGlzdHNgXG5cdClcbiAgICBjb25zb2xlLmxvZyhcInBhZ2UgXCIsIHBhZ2UpO1xuXG4gICAgbGV0IHdpc2hsaXN0cztcbiAgICBpZiAocGFnaW5hdGUpe1xuICAgICAgICBjb25zb2xlLmxvZyhcInBhZ2UgaW4gcGFnaW5hdGU6IFwiLCBwYWdlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJyb3dzUGVyUGFnZTogXCIsIHJvd3NQZXJQYWdlKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIHJvd3NQZXJQYWdlO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm9mZnNldDogXCIsIG9mZnNldCk7XG4gICAgICAgIHdpc2hsaXN0cyA9IGF3YWl0IGRiLmFsbChgU0VMRUNUICogRlJPTSBXaXNobGlzdHMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUkRFUiBCWSBsaWtlZCBERVNDLCB3aXNobGlzdF9pZCAke29yZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTElNSVQgPyBPRkZTRVQgP2AsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Jvd3NQZXJQYWdlLCBvZmZzZXRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aXNobGlzdHMgPSBhd2FpdCBkYi5hbGwoYFNFTEVDVCAqIEZST00gV2lzaGxpc3RzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUkRFUiBCWSAke3NvcnRfYnl9ICR7b3JkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCk7XG4gICAgfVxuXG4gICAgYXdhaXQgZGIuY2xvc2UoKTtcbiAgICAvLyBjb25zb2xlLmxvZyh3aXNobGlzdHMpO1xuICAgIGNvbnNvbGUubG9nKHRvdGFsUm93cyk7XG5cbiAgICByZXR1cm4ge3dpc2hsaXN0czogd2lzaGxpc3RzLCB0b3RhbFJvd3M6IHRvdGFsUm93cy5jb3VudH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gXCJHRVRcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBzb3J0X2J5LCBvcmRlciwgcGFnZSwgcm93c1BlclBhZ2UsIHBhZ2luYXRlfSA9IHJlcS5xdWVyeTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwYWdlIGJlZm9yZSBwYXNzaW5nOiBcIiwgcGFnZSk7XG4gICAgICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGdldFdpc2hsaXN0RGF0YSh7XG4gICAgICAgICAgICAgICAgc29ydF9ieSxcbiAgICAgICAgICAgICAgICBvcmRlcixcbiAgICAgICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgICAgIHJvd3NQZXJQYWdlLFxuICAgICAgICAgICAgICAgIHBhZ2luYXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihkYik7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogXCJFcnJvciBmZXRjaGluZyB3aXNobGlzdHMgZGF0YVwiIH0pO1xuICAgICAgICB9XG4gICAgfSAgZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJwb3N0aW5nIVwiKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuKHtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogXCIuL3NxbC9iaWcuZGJcIixcbiAgICAgICAgICAgICAgICBkcml2ZXI6IHNxbGl0ZTMuRGF0YWJhc2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHJlcS5ib2R5OyAvLyBBY2Nlc3MgZGF0YSBzZW50IGluIHRoZSByZXF1ZXN0IGJvZHlcbiAgICAgICAgICAgIC8vIHJlcy5qc29uKHsgbWVzc2FnZTogXCJEYXRhIHJlY2VpdmVkIHN1Y2Nlc3NmdWxseVwiLCBkYXRhOiByZXF1ZXN0RGF0YSB9KTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdERhdGEpO1xuXG4gICAgICAgICAgICBjb25zdCB3aXNobGlzdF9pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20pO1xuICAgICAgICAgICAgY29uc3QgbGlrZWQgPSAwO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdERhdGEud2lzaGxpc3RfaWQpO1xuXG4gICAgICAgICAgICBhd2FpdCBkYi5ydW4oXG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFdpc2hsaXN0cyAod2lzaGxpc3RfaWQsIGl0ZW1fbmFtZSwgaXRlbV9wcmljZSwgbGlrZWQpXG4gICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/KVxuICAgICAgICAgICAgICAgIGAsXG4gICAgICAgICAgICAgICAgICAgIFt3aXNobGlzdF9pZCwgcmVxdWVzdERhdGEubmFtZSwgcmVxdWVzdERhdGEucHJpY2UsIGxpa2VkXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWRkZWRcIik7XG5cbiAgICAgICAgICAgIGF3YWl0IGRiLmNsb3NlKCk7XG5cbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogXCJUYWJsZTogXCIsIGRhdGE6IHJlcXVlc3REYXRhIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocGF5bG9hZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSBcIkRFTEVURVwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlZFwiKTtcbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW4oe1xuICAgICAgICAgICAgZmlsZW5hbWU6ICcuL3NxbC9iaWcuZGInLFxuICAgICAgICAgICAgZHJpdmVyOiBzcWxpdGUzLkRhdGFiYXNlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgZGIucnVuKFxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIERFTEVURSBGUk9NIHdpc2hsaXN0c1xuICAgICAgICAgICAgICAgIFdIRVJFIHdpc2hsaXN0X2lkID0gP1xuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgIFtpZF1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF3YWl0IGRiLmNsb3NlKCk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogYEl0ZW0gd2l0aCBpZCAke2lkfSBkZWxldGVkLmAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XG4gICAgICAgIH1cbiAgICB9IGlmIChyZXEubWV0aG9kID09PSBcIlBVVFwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibGlrZWRcIik7XG4gICAgICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5xdWVyeTtcbiAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgb3Blbih7XG4gICAgICAgICAgICBmaWxlbmFtZTogJy4vc3FsL2JpZy5kYicsXG4gICAgICAgICAgICBkcml2ZXI6IHNxbGl0ZTMuRGF0YWJhc2VcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IGxpa2VkU3RhdHVzID0gYXdhaXQgZGIuZ2V0KFxuICAgICAgICAgICAgYFNFTEVDVCBsaWtlZCBhcyBsaWtlZFN0YXR1c1xuICAgICAgICAgICAgRlJPTSBXaXNobGlzdHNcbiAgICAgICAgICAgIFdIRVJFIHdpc2hsaXN0X2lkID0gP2AsIFtpZF1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAobGlrZWRTdGF0dXMubGlrZWRTdGF0dXMgPT0gMCkge1xuICAgICAgICAgICAgYXdhaXQgZGIucnVuKCdVUERBVEUgd2lzaGxpc3RzIFNFVCBsaWtlZCA9IDEgV0hFUkUgd2lzaGxpc3RfaWQgPSA/JywgW2lkXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaWtlZFN0YXR1cy5saWtlZFN0YXR1cyA9PSAxKSB7XG4gICAgICAgICAgICBhd2FpdCBkYi5ydW4oJ1VQREFURSB3aXNobGlzdHMgU0VUIGxpa2VkID0gMCBXSEVSRSB3aXNobGlzdF9pZCA9ID8nLCBbaWRdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgZGIuY2xvc2UoKTtcbiAgICAgICAgICBcblxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih3aXNobGlzdHMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXHQgIGlmIChyZXEubWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGIgPSBhd2FpdCBvcGVuKHtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogXCIuL3NxbC9iaWcuZGJcIixcbiAgICAgICAgICAgICAgICBkcml2ZXI6IHNxbGl0ZTMuRGF0YWJhc2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2UgPyBwYXJzZUludChyZXEucXVlcnkucGFnZSkgOiAxO1xuICAgICAgICAgICAgY29uc3QgcmVjb3Jkc1BlclBhZ2UgPSAxMDtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IChwYWdlIC0gMSkgKiByZWNvcmRzUGVyUGFnZTtcblxuICAgICAgICAgICAgY29uc3Qgd2lzaGxpc3RzID0gYXdhaXQgZGIuYWxsKGBTRUxFQ1QgKiBGUk9NIHdpc2hsaXN0cyBPUkRFUiBCWSBsaWtlZCBERVNDIExJTUlUID8gT0ZGU0VUID9gLCBbcmVjb3Jkc1BlclBhZ2UsIG9mZnNldF0pO1xuXHRcdFx0Y29uc29sZS5sb2cod2lzaGxpc3RzKTtcbiAgICAgICAgICAgIGF3YWl0IGRiLmNsb3NlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih3aXNobGlzdHMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcbiAgICAgICAgfVxuXHR9XG59Il0sIm5hbWVzIjpbInNxbGl0ZTMiLCJvcGVuIiwiRGF0YWJhc2UiLCJnZXRXaXNobGlzdERhdGEiLCJzb3J0X2J5Iiwib3JkZXIiLCJwYWdlIiwicm93c1BlclBhZ2UiLCJwYWdpbmF0ZSIsImRiIiwiZmlsZW5hbWUiLCJkcml2ZXIiLCJ0b3RhbFJvd3MiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwid2lzaGxpc3RzIiwib2Zmc2V0IiwiYWxsIiwiY2xvc2UiLCJjb3VudCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJxdWVyeSIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJlcnJvciIsImJvZHkiLCJyZXF1ZXN0RGF0YSIsIndpc2hsaXN0X2lkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGlrZWQiLCJydW4iLCJuYW1lIiwicHJpY2UiLCJtZXNzYWdlIiwiZGF0YSIsInBheWxvYWQiLCJpZCIsImxpa2VkU3RhdHVzIiwicGFyc2VJbnQiLCJyZWNvcmRzUGVyUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/wishlist.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/wishlist.js"));
module.exports = __webpack_exports__;

})();